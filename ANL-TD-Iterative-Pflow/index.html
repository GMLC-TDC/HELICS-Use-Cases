

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ANL TD Iterative Power Flow &mdash; HELICS Use Cases 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="HELICS download and installation" href="InstallHELICS.html" />
    <link rel="prev" title="PNNL Wide-Area Control Use Case Scripts" href="../PNNL-Wide-Area-Control/index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HELICS Use Cases
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../PNNL-Real-Time-Transactive-Energy/index.html">PNNL Real Time Transactive Energy Use Case Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PNNL-TD-Dynamic-Load/index.html">PNNL TD Dynamic Load Use Case Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PNNL-Wide-Area-Control/index.html">PNNL Wide-Area Control Use Case Scripts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ANL TD Iterative Power Flow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transmission-distribution-power-flow">Transmission-Distribution Power Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#download">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="InstallHELICS.html">HELICS download and installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="InstallPETSc.html">PETSc download and installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#compiling">Compiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-code">Running the code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ANL_adaptive_volt_var/index.html">ANL Adaptive Volt Var</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HELICS Use Cases</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>ANL TD Iterative Power Flow</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/ANL-TD-Iterative-Pflow/index.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="anl-td-iterative-power-flow">
<h1>ANL TD Iterative Power Flow<a class="headerlink" href="#anl-td-iterative-power-flow" title="Permalink to this headline">¶</a></h1>
<div class="section" id="transmission-distribution-power-flow">
<h2>Transmission-Distribution Power Flow<a class="headerlink" href="#transmission-distribution-power-flow" title="Permalink to this headline">¶</a></h2>
<p>This example code demonstrates a transmission-distribution steady-state
power flow using HELICS with one transmission federate and n
distribution federates. Iterations are performed between transmission
and distribution federates till consistent boundary conditions are
obtained. The consistent boundary conditions, for this case, is given by
the voltages (magnitudes and angles) converging to a nearly constant
value. The code for the transmission-distribution power flow is written
in C and it is tested on Ubuntu and MacOS. It uses the following
libraries + PFLOW is a transmission steady-state power flow code that is
used by the transmission federate code pflow-helics-trans.c. A shared
library for PFLOW (for Linux and MacOS) is provided in the lib
directory. PFLOW uses numerical routines from the PETSc library that
needs to be installed for PFLOW. Download and installation instructions
for PETSc are given below. + OpenDSSc is a C wrapper package for the
distribution system package OpenDSS. A shared library for OpenDSSc (for
Linux and MacOS) is provided in the lib directory. OpenDSSc uses
routines from KLU and OpenDSSDirect. Shared libraries for these packages
are available in the lib folder. + HELICS is the co-simulation library
used to exchange values between transmission and distribution federates.</p>
</div>
<div class="section" id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>Clone the repository</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">GMLC</span><span class="o">-</span><span class="n">TDC</span><span class="o">/</span><span class="n">HELICS</span><span class="o">-</span><span class="n">Use</span><span class="o">-</span><span class="n">Cases</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">HELICS</span><span class="o">-</span><span class="n">Use</span><span class="o">-</span><span class="n">Cases</span><span class="o">/</span><span class="n">ANL</span><span class="o">-</span><span class="n">TD</span><span class="o">-</span><span class="n">Iterative</span><span class="o">-</span><span class="n">Pflow</span><span class="o">/</span>
</pre></div>
</div>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Install HELICS and PETSc libraries by following the instructions below</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="InstallHELICS.html">HELICS download and installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstallPETSc.html">PETSc download and installation</a></li>
</ul>
</div>
</div>
<div class="section" id="compiling">
<h2>Compiling<a class="headerlink" href="#compiling" title="Permalink to this headline">¶</a></h2>
<p>Compile the broker, transmission, and distribution federate code. The
targets are given in the makefile.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">helicsbroker</span>
<span class="n">make</span> <span class="n">PFLOWHELICST</span>
<span class="n">make</span> <span class="n">PFLOWHELICSD</span>
</pre></div>
</div>
</div>
<div class="section" id="running-the-code">
<h2>Running the code<a class="headerlink" href="#running-the-code" title="Permalink to this headline">¶</a></h2>
<p>A Jupyter notebook runtdpflow.ipynb is provided to run the T-D
co-simulation code. The notebook uses Python2.7, it is not tested with
Python 3. It runs a transmission-distribution steady-state power flow on
a 200-bus transmission network with IEEE-8500 node feeders connected at
the load (boundary) buses. The number of feeders at each boundary bus is
determined based on the load at the bus and the feeder injection. The
T-D connection configuration is given through a metadatafile that is
generated by a MATLAB code (makemetadata.m). The metadata file for the
above T-D network is already generated and included in the repo
(metadata1). The format of the metadata file is given in makemetadata.m.
For a T-D co-simulation of the 200-bus network with IEEE-8500 node
feeders and considering T-D interface buses having distribution
injection of 11 MW or more results in 37 boundary (T-D interface) buses
with 126 distribution feeders.</p>
<p>The number of boundary buses can be varied by setting the
nbdry_selected variable appropriately. By default, nbdry_selected is
set to 1 that runs a T-D power flow simulation with 1 transmission
federate and 3 distribution federates. Read the runtdpflow.ipynb for
additional details.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="InstallHELICS.html" class="btn btn-neutral float-right" title="HELICS download and installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../PNNL-Wide-Area-Control/index.html" class="btn btn-neutral" title="PNNL Wide-Area Control Use Case Scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018 Battelle Memorial Institute. The Government retains a paid-up nonexclusive, irrevocable worldwide license to reproduce, prepare derivative works, perform publicly and display publicly by or for the Government, including the right to distribute to other Government contractors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>